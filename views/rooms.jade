extends layout

block header
    script(src="/javascripts/jquery-2.1.1.min.js", type='text/javascript')
    script(src="/socket.io/socket.io.js", type="text/javascript")
    script(type='text/javascript').
            var socket = io.connect("http://localhost");
            var uid, roomId;
            socket.on('hello', function (data) {
                uid = data.uid;
                roomId = data.roomId;
                console.log("uid: " + uid + ", roomId: " + roomId);
            });
            socket.on('members', function (data) {
                uid = data.uid;
                roomId = data.roomId;
                console.log('uid: ' + data.uid);
                console.log('members: ' + data.gTmembers);
            });
            $(function () {
                $('#btn').on('click', function (ev) {
                    socket.emit('set icon',
                        {uid: uid,
                         roomId: roomId,
                         x: ev.clientX,
                         y: ev.clientY
                    });
                });
            });
block content
    h1 Room page
    p#btn Welcome to Room #{id}
    p= counter
